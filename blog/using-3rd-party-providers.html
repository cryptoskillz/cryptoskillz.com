<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Using 3rd Party providers - cryptoskillz</title><meta name="description" content="ECS (e-commerce software) is an open source Bitcoin e-commerce server. It comes with a Javascript e-commerce injector a REST server and an admin control panel. "><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://cryptoskillz.com/blog/using-3rd-party-providers.html"><link rel="amphtml" href="https://cryptoskillz.com/blog/amp/using-3rd-party-providers.html"><link rel="alternate" type="application/atom+xml" href="https://cryptoskillz.com/blog/feed.xml"><link rel="alternate" type="application/json" href="https://cryptoskillz.com/blog/feed.json"><meta property="og:title" content="Using 3rd Party providers"><meta property="og:image" content="https://cryptoskillz.com/blog/media/posts/2/1_iHh_BRR4Zc-RPTc1RraJyQ.jpeg"><meta property="og:site_name" content="cryptoskillz"><meta property="og:description" content="ECS (e-commerce software) is an open source Bitcoin e-commerce server. It comes with a Javascript e-commerce injector a REST server and an admin control panel. "><meta property="og:url" content="https://cryptoskillz.com/blog/using-3rd-party-providers.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400,500&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cryptoskillz.com/blog/assets/css/style.css?v=1083d802e3f46e75f95035fd641fe7af"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://cryptoskillz.com/blog/using-3rd-party-providers.html"},"headline":"Using 3rd Party providers","datePublished":"2018-09-18T03:01","dateModified":"2019-10-10T23:43","image":{"@type":"ImageObject","url":"https://cryptoskillz.com/blog/media/posts/2/1_iHh_BRR4Zc-RPTc1RraJyQ.jpeg","height":473,"width":639},"description":" IntroductionWe decided to be paid in BTC for all of our future endeavours. After a few weeks of research, we found that there are many tutorials that show you how to do just about everything with Bitcoin. What we could not find was a tutorial&hellip;","author":{"@type":"Person","name":"cryptoskillz"},"publisher":{"@type":"Organization","name":"cryptoskillz"}}</script><script async src="https://cryptoskillz.com/blog/assets/js/lazysizes.min.js?v=300b16f1c14e1537e6b064f464ab33b1"></script></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://cryptoskillz.com/blog/">cryptoskillz</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"><li><a href="https://cryptoskillz.com/index.html" target="_self">ECS</a></li><li><a href="https://cryptoskillz.com/blox.html" target="_self">BLOX</a></li><li><a href="https://cryptoskillz.com/about.html" target="_self">ABOUT</a></li></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2019-10-11T01:24">October 11, 2019</time></div><div class="infobar__search"><form action="https://cryptoskillz.com/blog/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main"><article class="post"><figure class="post__featured-image" style="padding-bottom: calc(473/639 * 100%)"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xs.jpeg 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-sm.jpeg 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-md.jpeg 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-lg.jpeg 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xl.jpeg 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-2xl.jpeg 1600w" data-sizes="auto" alt=""></figure><header class="u-header post__header"><h1>Using 3rd Party providers</h1><div class="u-header__meta u-small"><div><a href="https://cryptoskillz.com/blog/authors/cryptoskillz/" title="cryptoskillz">cryptoskillz</a> <time datetime="2018-09-18T03:01">September 18, 2018 </time><a href="https://cryptoskillz.com/blog/ecs/" class="u-tag u-tag--1">ecs</a></div></div></header><div class="post__entry u-inner"><div id="ea43" class="jl jm bf av jn b jo jp jq jr js jt ju"><h2 class="jn b jo jv bf"> </h2></div><div class="jw"><div class="ag af"><div> </div><div><h1 id="b76a" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Introduction</h1><p id="b675" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">We decided to be paid in BTC for all of our future endeavours. After a few weeks of research, we found that there are many tutorials that show you how to do just about everything with Bitcoin. What we could not find was a tutorial that explained how to do one of it’s most simple use cases and that was put a Bitcoin address on a webpage and accept payment.</p><p id="946e" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">You can go the hosted solution and this is what I did with the first experiment, we went with the rather excellent “<a href="https://globee.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Globlee</strong></a><strong class="ll mg">”.</strong></p><p class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph=""><strong class="ll mg"><br>*cryptoskillz from the future we are at a state in the project that we no longer require "</strong><strong class="ll mg"><a href="https://www.shopify.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">Shopify</a>"</strong><strong class="ll mg">/</strong><strong>"<a href="https://globee.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">Globlee</a>"</strong><strong class="ll mg"> </strong>so it has been shut down, the screenshot below shows what it looked like.</p><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-2xl.png 1600w" alt="" width="2654" height="1287"></figure><p id="37a4" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">However, this is <strong>"<a class="cb bx mc md me mf" target="_blank" href="https://medium.com/@jimmysong/why-bitcoin-is-different-e17b813fd947" rel="noopener noreferrer">Bitcoin we want to be the bank</a>"</strong>, decentralise everything etc. This obviously leads me to dive deeper into the murky water of Bitcoin what are PUB keys WIF’s. How do we create them why does the testnet mempool take forever to clear, what the hell is a mempool? These and many other questions sprung up and the answers were not readily forthcoming, it is fair to say the Bitcoin community expects a certain level of knowledge before you can play in their waters.</p><p id="7cb8" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">As we where solving these issues for ourselves we thought we may as well document the process and this is what this tutorial is.</p><p id="8d76" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">It has been broken down into many parts and each tutorial has it’s own matching branch in Github this way you can literally track the progress, changes made etc to the code base as it develops. The latest version of the code is always in master if you want to ignore these tutorials and jump right in, go ahead.</p><p id="554b" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">The overreaching goal of this tutorial is to have:</p><ol><li id="addc" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw mm mn mo" data-selectable-paragraph="">A full node (with lighting running atop of it)</li><li id="a2ab" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A single line of code JS (that is agnostic) that is used to give e-commerce functionality to any website</li><li id="4dff" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A REST API for processing all Bitcoin-related tasks (generateaddress, estimatefee etc)</li><li id="010f" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">An admin server for processing order</li><li id="a32e" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A series of web components to give WWW sites e-commerce layout (checkout, pay button, product gallery etc)</li></ol><p id="a93c" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">More than just the above it is meant to serve as a teaching aid as every step successes, failures and everything in-between is documented both in this tutorial and in the Github.</p><p data-selectable-paragraph=""> </p><h1 id="113f" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Overreaching Goal</h1><p id="ca45" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">The purpose of this tutorial is to do the following</p><p id="ff77" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">1 Generate a unique address for each payment request on a webpage<br>2 Monitor the blockchain for payment <br>3 Inform the buyer when the payment is successful<br>4 Inform the seller when the payment is successful</p><p id="fdcd" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">That is it, how hard can that be? Let’s begin shall we</p><p data-selectable-paragraph=""> </p><h1 id="dd57" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Technology choices</h1><p id="a905" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">We will be using a microservice architecture(ish) and will be using Node.js (for servers / REST API’s etc) and static HTML for everything else (interacting with the REST API for content delivery) and some flavour of SQL (most likely <strong>"<a href="https://www.sqlite.org/about.html" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">SQLLite</a>"</strong> to begin with)</p><p id="9d09" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">For our first foray into the world of accepting Bitcoins, we thought it would be wise to look at the various API companies out there (and there are a lot) and see how much of the heavy lifting can be removed if you are happy to rely on a third party. Note this is probably the most simple way (outside of fully hosted) way to process a Bitcoin payment and as a result will be of the most useful to most people.</p><p id="af2f" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">We also discounted any provider who converted your Bitcoin back to dollars, pounds euros, in fact, any FIAT currency as soon as the item was sold as this is not what we were looking to do at all.</p><p id="bff5" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">There are many Bitcoin as service companies out there they range from expensive and bad to cheap and good (and everything in between) the one I chose was "<strong class="ll mg"><a href="https://block.io/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">Block.io</a>"</strong> we found it to have the best API. If you do not like Block.io the concepts are simple enough to be interchangeable.</p><p id="8ac7" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Go ahead sign up for a Blox account and click the skip button in the account page as the free is good enough for us for now.</p><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-2xl.png 1600w" alt="" width="2240" height="1243"></figure><p id="19a3" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Next, we have to set your secret pin. Do so and keep it secret.</p><p data-selectable-paragraph=""> </p></div><div><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-2xl.png 1600w" alt="" width="1208" height="697"></figure></div><div> </div><div>After this Blox will get you a <strong>"<a href="https://en.bitcoin.it/wiki/Seed_phrase" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">mnemonic</a>"</strong> make a note of this and click on the “I have saved this information” box, then click done.</div><div> </div><div><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-2xl.png 1600w" alt="" width="1208" height="697"></figure></div><div> </div><div><p id="9ee8" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Lastly, click on the drop-down and click “Bitcoin (Testnet”) and we are ready to go.</p><p id="e5db" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">*Note the “show API keys” link has your API keys that should be obvious but these are required to interact with the Block API.</p><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-2xl.png 1600w" alt="" width="2133" height="223"></figure><h2 id="c00c" class="ng kx bf av au el nh ni nj nk nl nm nn no np nq nr" data-selectable-paragraph="">The code</h2><p id="37da" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">Now we are up and running we have a wallet and access to a Testnet, go us. Now let’s sling some code and interact with it. If you read their <strong>"<a href="https://block.io/docs/basic" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">docs</a>"</strong> you will see that are fairly extensive but don’t worry we are only going to use 2 of the commands at this point in time.</p><p id="a369" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">The code below is using the "<strong class="ll mg"><a href="https://www.npmjs.com/package/block_io" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">block_io</a>"</strong> and uses a simple "<strong class="ll mg"><a href="https://nodejs.org/en/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">Node.js</a>"</strong><strong class="ll mg"> "</strong><strong class="ll mg"><a href="https://expressjs.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">express</a>" </strong>application. The source code can be found "<strong class="ll mg"><a href="https://github.com/cryptoskillz/block_ioTurotial" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">here</a>"</strong>.</p><p id="4fae" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">*Note we have left my API keys in here, it is intentional just so you can see how they are meant to be used. We do not use the Block.io account for anything so there is no way you can compromise anything.</p><pre class="kg kh ki kj kk dv gg df"><span id="e933" class="ng kx bf av ns b dz nt nu l nv" data-selectable-paragraph="">//load express<br>const express = require('express');<br>//load body parser<br>const bodyParser = require('body-parser');<br>//load block io<br>var BlockIo = require('block_io');<br>//set the version of the API to 2<br>var version = 2; // API version<br>//init it<br>const app = express();</span><span id="e564" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//this function just creates a random label so we can generate the address.<br>function makeLabel() {<br>  var text = "";<br>  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";<br>  for (var i = 0; i &lt; 5; i++)<br>    text += possible.charAt(Math.floor(Math.random() * possible.length));<br>  return text;<br>}</span><span id="07aa" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//init the block.io server <br>var block_io = new BlockIo('9ccb-fad0-7811-4dfb', 'TFcce3dNxcfk7E3D', version);</span><span id="3e3e" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//get a random label<br>var label = makeLabel();<br>console.log('Generating new address')<br>/*<br>create a new address using a label.  You do not have to use a label but it just makes it easier to work with later.<br>Later on we wil store this address in a databse for further processing.<br>*/<br>block_io.get_new_address({'label': label}, console.log);<br>/*<br>Set a timer to check for a payment.  Using the label we created allows us to check faster but you could move this to <br>a backend server function and have it check for balances etc<br>*/<br>setInterval(function()<br>{<br> console.log('Checking for payment');<br> block_io.get_address_balance({'label': label}, console.log);<br>},10000);</span><span id="73fa" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">app.use(bodyParser.urlencoded({ extend: false }));  <br>app.use(bodyParser.json());</span><span id="7c8d" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">app.listen(3000, () =&gt; {<br>});</span></pre><p id="59fa" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Let us go ahead and explain the code below:</p><ol><li id="9a9e" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw mm mn mo" data-selectable-paragraph="">We call the <strong class="ll mg">makeLabel</strong> function to generate a unique label.</li><li id="c8d2" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">Then we generate a new address via the <strong class="ll mg">get_new_address function. *</strong>Note we use the label function just so it is easier to spot in the wallet. This address will now show up in your block.io wallet.</li></ol><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-2xl.png 1600w" alt="" width="2343" height="1128"></figure><p id="563d" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">3. We use the <strong class="ll mg">setInterval</strong> function to check for the payment via its label (<strong class="ll mg">get_address_balance</strong>) every 10 seconds</p><p id="4985" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">That’s it, super simple once you have downloaded the code simply change the API keys to your own open a terminal and type <strong class="ll mg">node server.js </strong>and<strong class="ll mg"> </strong>you will see the following output</p><figure class="post__image"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-xs.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-2xl.png 1600w" alt="" width="2831" height="489"></figure><h1 class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph=""> </h1><h1 id="6ebc" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Conclusion</h1><p id="ff2a" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">We have set up an account with a Bitcoin API service and wrote the code to generate a new address and then check if any Bitcoin has been sent to it over the Testnet. Yay, go us. In "<strong class="ll mg"><a href="https://cryptoskillz.com/blog/generate-a-btc-address.html" target="_blank" rel="noopener noreferrer">part 2</a>" </strong>we will set up a bitcoin core wallet, get some test coins and send them to our new address.</p></div></div></div></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on October 10, 2019</div><div class="post__share"></div></aside><footer class="post__footer"><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://cryptoskillz.com/blog/authors/cryptoskillz/" title="cryptoskillz">cryptoskillz</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://cryptoskillz.com/blog/table-of-contents-and-prereqs.html" class="post__nav__link" rel="prev"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/1/responsive/part0-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/1/responsive/part0-xs.jpeg" data-expand="300" alt=""><div class="u-small">Previous Post<h5>Table of contents &amp; prereqs</h5></div></a></div><div class="post__nav__next"><a href="https://cryptoskillz.com/blog/generate-a-btc-address.html" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>Generate a BTC address</h5></div><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/4/responsive/1_FOAkdC5qviQuoNH-UUQY8Q-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/4/responsive/1_FOAkdC5qviQuoNH-UUQY8Q-xs.jpeg" data-expand="300" alt=""></a></div></nav><div class="post__related box"><h3 class="box__title">Related posts</h3><div class="post__related__wrap"><figure><a href="https://cryptoskillz.com/blog/how-i-got-my-trx-for-free-using-tronbet.html"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/25/responsive/1_qWm4r1QF9iNMDgPEb20U1Q-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/25/responsive/1_qWm4r1QF9iNMDgPEb20U1Q-xs.jpeg" data-expand="300" alt=""></a><figcaption><h4><a href="https://cryptoskillz.com/blog/how-i-got-my-trx-for-free-using-tronbet.html" class="inverse">How I got my TRX for free using Tronbet</a></h4><time datetime="2019-09-23T17:28" class="u-small">September 23, 2019</time></figcaption></figure><figure><a href="https://cryptoskillz.com/blog/integrating-3rd-party-lightning.html"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/18/responsive/1_a22cZdqrqt3k_KXL4CcfDg-xs-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/18/responsive/1_a22cZdqrqt3k_KXL4CcfDg-xs-xs.jpeg" data-expand="300" alt=""></a><figcaption><h4><a href="https://cryptoskillz.com/blog/integrating-3rd-party-lightning.html" class="inverse">Integrating 3rd party Lightning</a></h4><time datetime="2019-01-23T12:29" class="u-small">January 23, 2019</time></figcaption></figure><figure><a href="https://cryptoskillz.com/blog/adding-3rd-party-lightning.html"><img class="lazyload" src="https://cryptoskillz.com/blog/media/posts/17/responsive/1_o-phpGJ9Fmh13YqxCs8y3A-xs-xs.jpeg" data-srcset="https://cryptoskillz.com/blog/media/posts/17/responsive/1_o-phpGJ9Fmh13YqxCs8y3A-xs-xs.jpeg" data-expand="300" alt=""></a><figcaption><h4><a href="https://cryptoskillz.com/blog/adding-3rd-party-lightning.html" class="inverse">Adding 3rd party Lightning</a></h4><time datetime="2018-12-27T12:27" class="u-small">December 27, 2018</time></figcaption></figure></div></div></footer></article></main><div class="sidebar"><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://cryptoskillz.com/blog/cyphernode/">cyphernode</a> <span class="u-small">(3)</span></li><li><a href="https://cryptoskillz.com/blog/ecs/">ecs</a> <span class="u-small">(23)</span></li><li><a href="https://cryptoskillz.com/blog/fullnode/">fullnode</a> <span class="u-small">(8)</span></li><li><a href="https://cryptoskillz.com/blog/trx/">trx</a> <span class="u-small">(2)</span></li><li><a href="https://cryptoskillz.com/blog/wink/">wink</a> <span class="u-small">(2)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://cryptoskillz.com/blog/">cryptoskillz</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Powered by Publii</div></footer></div><script defer="defer" src="https://cryptoskillz.com/blog/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://cryptoskillz.com/blog/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-111636971-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111636971-1');</script></body></html>