<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Working With Fullnodes Part 7 Cyphernode IV - cryptoskillz</title><meta name="description" content="blockchain,bitcoin,node js, fullnode"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://cryptoskillz.com/blog/working-with-fullnodes-part-7-cyphernode-iv.html"><link rel="amphtml" href="https://cryptoskillz.com/blog/amp/working-with-fullnodes-part-7-cyphernode-iv.html"><link rel="alternate" type="application/atom+xml" href="https://cryptoskillz.com/blog/feed.xml"><link rel="alternate" type="application/json" href="https://cryptoskillz.com/blog/feed.json"><meta property="og:title" content="Working With Fullnodes Part 7 Cyphernode IV"><meta property="og:image" content="https://cryptoskillz.com/blog/media/website/logo.png"><meta property="og:site_name" content="cryptoskillz"><meta property="og:description" content="blockchain,bitcoin,node js, fullnode"><meta property="og:url" content="https://cryptoskillz.com/blog/working-with-fullnodes-part-7-cyphernode-iv.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://cryptoskillz.com/blog/assets/css/style.css?v=58acac63961d23abccded091eaca6989"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://cryptoskillz.com/blog/working-with-fullnodes-part-7-cyphernode-iv.html"},"headline":"Working With Fullnodes Part 7 Cyphernode IV","datePublished":"2019-09-22T03:21","dateModified":"2019-09-22T03:32","image":{"@type":"ImageObject","url":"https://cryptoskillz.com/blog/media/website/logo.png","height":178,"width":685},"description":"<h3 class=\"graf graf--h3\"><figure class=\"post__image\"><img  src=\"https://cryptoskillz.com/blog/media/posts/23/download.png\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://cryptoskillz.com/blog/media/posts/23/responsive/download-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-2xl.png 1600w\"  alt=\"\" width=\"260\" height=\"194\"></figure></h3>\n","author":{"@type":"Person","name":"cryptoskillz"},"publisher":{"@type":"Organization","name":"cryptoskillz","logo":{"@type":"ImageObject","url":"https://cryptoskillz.com/blog/media/website/logo.png","height":178,"width":685}}}</script><script src="https://cryptoskillz.com/blog/assets/js/ls.parent-fit.min.js?v=1c78585e2a70398fe95085061942fd37"></script><script async src="https://cryptoskillz.com/blog/assets/js/lazysizes.min.js?v=149ff45fc6c2f13e892e438a58abb77f"></script><script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-4710117865976591",
enable_page_level_ads: true
});</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://cryptoskillz.com/blog/"><img src="https://cryptoskillz.com/blog/media/website/logo.png" alt="cryptoskillz"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://cryptoskillz.com/index.html" target="_self">ECS</a></li><li><a href="https://cryptoskillz.com/blox.html" target="_self">BLOX</a></li><li><a href="https://cryptoskillz.com/about.html" target="_self">ABOUT</a></li><li class="has-submenu"><a href="https://cryptoskillz.com/blog/ecs/" target="_self" aria-haspopup="true">BLOG</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://cryptoskillz.com/blog/ecs/" target="_self">ECS</a></li><li><a href="https://cryptoskillz.com/blog/fullnode/" target="_self">FULLNODE</a></li><li><a href="https://cryptoskillz.com/blog/cyphernode/" target="_self">CYPHERNODE</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-09-22T03:21">September 22, 2019</time></div><h1>Working With Fullnodes Part 7 Cyphernode IV</h1></div></header></div><div class="wrapper post__entry"><h3 class="graf graf--h3"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/download.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/download-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/download-2xl.png 1600w" alt="" data-aspectratio="1.340206" width="260" height="194"></figure></h3><h3 class="graf graf--h3">Introduction</h3><p class="graf graf--p">This guide aims to program a website to accept Bitcoin. In the previous tutorial, we integrated “<a href="https://cyphernode.io/" data-href="https://cyphernode.io/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">cyphernode</strong></a><strong class="markup--strong markup--p-strong">” </strong>into our “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” (with “<a href="https://en.wikipedia.org/wiki/Lightning_Network" data-href="https://en.wikipedia.org/wiki/Lightning_Network" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">Lightning</strong></a>”). This time we are going to host it on “<a href="https://www.digitalocean.com/" data-href="https://www.digitalocean.com/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">digitalocean</strong></a>”.</p><p class="graf graf--p">We are going to create 2 droplets one to hold “<a href="https://cyphernode.io/" data-href="https://cyphernode.io/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">cyphernode</strong></a>” and the other to hold “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>”. We could keep them both in one instance but I prefer to use “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” as a proxy that we can have a main and test node and have one “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” to access both.</p><h3 class="graf graf--h3">Cyphernode droplet</h3><h4 class="graf graf--h4">step 1: create a droplet</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/1.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/1-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/1-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/1-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/1-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/1-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/1-2xl.png 1600w" data-aspectratio="9.195402" width="1600" height="174"></figure></figure><h4 class="graf graf--h4">step 2: chose OS</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/2.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/2-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/2-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/2-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/2-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/2-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/2-2xl.png 1600w" data-aspectratio="2.919708" width="1600" height="548"></figure></figure><h4 class="graf graf--h4">step 3: chose plan</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/3.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/3-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/3-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/3-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/3-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/3-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/3-2xl.png 1600w" data-aspectratio="2.402402" width="1600" height="666"></figure></figure><h4 class="graf graf--h4">step 4: assign SSH</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/4.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/4-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/4-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/4-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/4-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/4-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/4-2xl.png 1600w" data-aspectratio="3.478261" width="1600" height="460"></figure></figure><h4 class="graf graf--h4">step 5: create a droplet</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/5.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/5-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/5-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/5-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/5-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/5-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/5-2xl.png 1600w" data-aspectratio="2.898551" width="1600" height="552"></figure></figure><h4 class="graf graf--h4">step 6: access droplet</h4><p class="graf graf--p">Copy the ipv4 address shown in the droplet admin</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/6.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/6-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/6-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/6-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/6-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/6-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/6-2xl.png 1600w" data-aspectratio="3.180915" width="1600" height="503"></figure></figure><h4 class="graf graf--h4">step 7: connect via ssh</h4><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/7.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/7-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/7-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/7-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/7-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/7-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/7-2xl.png 1600w" data-aspectratio="1.387130" width="1358" height="979"></figure></figure><h4 class="graf graf--h4">step 8: install docker</h4><p class="graf graf--p">note, this step was taken from the following “<a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04" data-href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">guide</strong></a>”</p><p class="graf graf--p">First, update your existing list of packages:</p><pre class="graf graf--pre">sudo apt update</pre><p class="graf graf--p">Next, install a few prerequisite packages which let apt use packages over HTTPS:</p><pre class="graf graf--pre">sudo apt install apt-transport-https ca-certificates curl software-properties-common</pre><p class="graf graf--p">Then add the GPG key for the official Docker repository to your system:</p><pre class="graf graf--pre">curl -fsSL <a href="https://download.docker.com/linux/ubuntu/gpg" data-href="https://download.docker.com/linux/ubuntu/gpg" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noreferrer" target="_blank">https://download.docker.com/linux/ubuntu/gpg</a> | sudo apt-key add -</pre><p class="graf graf--p">Add the Docker repository to APT sources:</p><pre class="graf graf--pre">sudo add-apt-repository "deb [arch=amd64] <a href="https://download.docker.com/linux/ubuntu" data-href="https://download.docker.com/linux/ubuntu" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noreferrer" target="_blank">https://download.docker.com/linux/ubuntu</a> bionic stable"</pre><p class="graf graf--p">Next, update the package database with the Docker packages from the newly added repo:</p><pre class="graf graf--pre">sudo apt update</pre><p class="graf graf--p">Make sure you are about to install from the Docker repo instead of the default Ubuntu repo:</p><pre class="graf graf--pre">apt-cache policy docker-ce</pre><p class="graf graf--p">You’ll see output like this, although the version number for Docker may be different:</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/8.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/8-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/8-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/8-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/8-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/8-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/8-2xl.png 1600w" data-aspectratio="1.213035" width="1247" height="1028"></figure></figure><p class="graf graf--p">Finally, install Docker:</p><pre class="graf graf--pre">sudo apt install docker-ce</pre><p class="graf graf--p">Docker should now be installed, the daemon started, and the process enabled to start on boot. Check that it’s running:</p><pre class="graf graf--pre">sudo systemctl status docker</pre><p class="graf graf--p">The output should be similar to the following, showing that the service is active and running:</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/9.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/9-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/9-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/9-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/9-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/9-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/9-2xl.png 1600w" data-aspectratio="4.407713" width="1600" height="363"></figure></figure><p class="graf graf--p">Installing Docker now gives you not just the Docker service (daemon) but also the docker command-line utility, or the Docker client. We’ll explore how to use the docker command later in this tutorial.</p><p class="graf graf--p">add your username to the docker group:</p><pre class="graf graf--pre">sudo usermod -aG docker ${USER}</pre><p class="graf graf--p">Apply the new group membership, log out of the server and back in, or type the following:</p><pre class="graf graf--pre">id -nG</pre><h4 class="graf graf--h4">step 9: install docker-compose</h4><p class="graf graf--p">note, this step was taken from the following “<a href="https://www.digitalocean.com/community/tutorials/how-to-install-docker-compose-on-ubuntu-16-04" data-href="https://www.digitalocean.com/community/tutorials/how-to-install-docker-compose-on-ubuntu-16-04" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">guide</strong></a>”</p><p class="graf graf--p">Although we can install Docker Compose from the official Ubuntu repositories, it is several minor versions behind the latest release, so we’ll install Docker Compose from the Docker’s GitHub repository. The command below is slightly different than the one you’ll find on the Releases page. By using the -o flag to specify the output file first rather than redirecting the output, this syntax avoids running into a permission denied error caused when using sudo.</p><p class="graf graf--p">We’ll check the current release and if necessary, update it in the command below:</p><pre class="graf graf--pre">sudo curl -L <a href="https://github.com/docker/compose/releases/download/1.18.0/docker-compose-&#96;uname" data-href="https://github.com/docker/compose/releases/download/1.18.0/docker-compose-&#96;uname" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noreferrer" target="_blank">https://github.com/docker/compose/releases/download/1.18.0/docker-compose-`uname</a> -s`-`uname -m` -o /usr/local/bin/docker-compose</pre><p class="graf graf--p">Next, we’ll set the permissions:</p><pre class="graf graf--pre">sudo chmod +x /usr/local/bin/docker-compose</pre><p class="graf graf--p">Then we’ll verify that the installation was successful by checking the version:</p><pre class="graf graf--pre">docker-compose --version</pre><p class="graf graf--p">This will print out the version we installed:</p><figure class="graf graf--figure"><figure class="graf-image"><img src="https://cdn-images-1.medium.com/max/1600/1*x2nPIfMzjYrPmmmAxnQHGw.png" data-is-external-image="true" data-image-id="1*x2nPIfMzjYrPmmmAxnQHGw.png" data-width="1281" data-height="57"></figure></figure><p class="graf graf--p graf--empty"> </p><h4 class="graf graf--h4">step 10: Install cyphernode</h4><p class="graf graf--p">We are not going to document the cyphernode install process again you can review it “<a href="https://medium.com/bitcoin-e-commerce-development/part-19-cyphernode-ii-a2b01e8d702c" data-href="https://medium.com/bitcoin-e-commerce-development/part-19-cyphernode-ii-a2b01e8d702c" class="markup--anchor markup--p-anchor" target="_blank" rel="noopener noreferrer"><strong class="markup--strong markup--p-strong">here</strong></a>” if you want to run through the whole process again. We install the BTC full node without Lightning as we want it to run on a 50 gig digitalocean box. We will add Lightning in a later article.</p><h3 class="graf graf--h3">ECS droplet</h3><p class="graf graf--p">Now we have to create a droplet for “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a><strong class="markup--strong markup--p-strong">”</strong>. Repeat steps 1–5 from the previous installation (cyphernode droplet)</p><h4 class="graf graf--h4">step 6: install node js</h4><p class="graf graf--p">note, this step was taken from the following “<a href="https://websiteforstudents.com/install-the-latest-node-js-and-nmp-packages-on-ubuntu-16-04-18-04-lts/" data-href="https://websiteforstudents.com/install-the-latest-node-js-and-nmp-packages-on-ubuntu-16-04-18-04-lts/" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">guide</strong></a>”</p><p class="graf graf--p">First, update your existing list of packages:</p><pre class="graf graf--pre">sudo apt install curl</pre><p class="graf graf--p">Install the repository that has the latest version of Node.js</p><pre class="graf graf--pre">curl -sL <a href="https://deb.nodesource.com/setup_10.x" data-href="https://deb.nodesource.com/setup_10.x" class="markup--anchor markup--pre-anchor" rel="nofollow noopener noreferrer" target="_blank">https://deb.nodesource.com/setup_10.x</a> | sudo bash -</pre><p class="graf graf--p">Install Node.js</p><pre class="graf graf--pre">sudo apt install nodejs</pre><p class="graf graf--p">After installing, both Node.js and NPM modules should be installed and ready to use.</p><p class="graf graf--p">You can use the commands below to view the version number installed.</p><pre class="graf graf--pre">node -v<br>npm -v</pre><p class="graf graf--p">and you will see something like the following screenshot</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/10.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/10-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/10-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/10-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/10-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/10-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/10-2xl.png 1600w" data-aspectratio="14.589286" width="817" height="56"></figure></figure><h4 class="graf graf--h4">step 7: install ECS</h4><p class="graf graf--p">First, make a directory called server</p><pre class="graf graf--pre">mkdir server<br>cd server</pre><p class="graf graf--p">Next, great a git repo</p><pre class="graf graf--pre">git init</pre><p class="graf graf--p">Next, add the ECS repo</p><pre class="graf graf--pre">git remote add github https://github.com/cryptoskillz/ECS.git</pre><p class="graf graf--p">Next, pull the latest master branch</p><pre class="graf graf--pre">git pull github master</pre><p class="graf graf--p">Next, Go into the newly created server directory</p><pre class="graf graf--pre">cd server</pre><p class="graf graf--p">Create an .ENV file</p><pre class="graf graf--pre">nano .env</pre><p class="graf graf--p">Add the following and fill in with the correct details. </p><blockquote class="graf graf--blockquote">Note, the RPCHOST is the IP address of the first droplet we created. </blockquote><pre class="graf graf--pre">EMAILSMTP = <br>EMAILUSERNAME = <br>EMAILPASSWORD = <br>WALLETPASSPHRASE = <br>WALLET = 'spending01.dat'<br>RPCUSERNAME = <br>NETWORK = 1<br>LIGHTNETWORK=2<br>RPCUSERNAME =<br>RPCPASSWORD = <br>RPCHOST = 127.0.0.1 <br>RPCPORT = 18332<br>BLOCKIOKEY = <br>BLOCKIOSECRET = <br>PORT = 80<br>CONFIRMATIONS=1<br>STRIKEAPIKEY=<br>STRIKEENDPOINT=</pre><p class="graf graf--p">Run app.js and see if it is working.</p><pre class="graf graf--pre">node app.js</pre><p class="graf graf--p">Note, sometimes you may get the following error</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/0.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/0-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/0-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/0-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/0-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/0-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/0-2xl.png 1600w" data-aspectratio="4.359673" width="1600" height="367"></figure></figure><p class="graf graf--p">We are not sure why this happens but “<a href="https://www.sqlite.org/index.html" data-href="https://www.sqlite.org/index.html" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">sqllite</strong></a>” for some reason does not always install from the package.json file. If you run into this error then type the following</p><pre class="graf graf--pre">npm install sqlite3 --save</pre><p class="graf graf--p">If it has worked you will see the following</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/11.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/11-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/11-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/11-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/11-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/11-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/11-2xl.png 1600w" data-aspectratio="7.464286" width="1045" height="140"></figure></figure><p class="graf graf--p">You will now be able to access the “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” API via the browser. Let us test this by going to the following URL</p><p class="graf graf--p">Note, replace the IP address with the one Digitalocean gave you.</p><pre class="graf graf--pre"><a href="http://157.245.13.93:3030/backoffice/test" data-href="http://157.245.13.93:3030/backoffice/test" class="markup--anchor markup--pre-anchor" rel="noopener noreferrer" target="_blank">http://157.245.13.93:3030/backoffice/test</a></pre><p class="graf graf--p">If it worked you will see something like the following </p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/12.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/12-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/12-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/12-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/12-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/12-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/12-2xl.png 1600w" data-aspectratio="2.990654" width="1600" height="535"></figure></figure><p class="graf graf--p">This is a test endpoint that shows us the actual block height the full node has synced to.</p><h4 class="graf graf--h4">step 8: install forever.js</h4><p class="graf graf--p">Now we want “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” to run even when we are not logged in and to do that we install a package called “forever.js”</p><p class="graf graf--p">First, stop “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” from running by pressing CTRL+C</p><p class="graf graf--p">Then, install forever.js</p><pre class="graf graf--pre">npm install forever -g</pre><p class="graf graf--p">Next, we want to start “<a href="https://github.com/cryptoskillz/ECS" data-href="https://github.com/cryptoskillz/ECS" class="markup--anchor markup--p-anchor" rel="noopener noreferrer" target="_blank"><strong class="markup--strong markup--p-strong">ECS</strong></a>” and run it forever. The -w flag will restart the app.js if we change any of the files. Handy for when we update the code. </p><pre class="graf graf--pre">forever -w start app.js</pre><p class="graf graf--p">If it worked you will see the following output</p><figure class="graf graf--figure"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/23/13.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/23/responsive/13-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/23/responsive/13-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/23/responsive/13-md.png 768w ,https://cryptoskillz.com/blog/media/posts/23/responsive/13-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/23/responsive/13-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/23/responsive/13-2xl.png 1600w" data-aspectratio="12.747826" width="1466" height="115"></figure></figure><h3 class="graf graf--h3">Conclusion</h3><p class="graf graf--p">Now we have ECS running on a cheap digitalocean box ($20 a month) and have cyphernode as our back end full node. We have everything we require to take payments in BTC and it is all working great. Next time we are going to do a 180 and update ECS to run with no full node at all, WHAT!</p><p class="graf graf--p graf--empty"> </p><p class="graf graf--p graf--empty"> </p><p class="graf graf--p graf--empty"> </p><p class="graf graf--p graf--empty"> </p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on September 22, 2019</p><div class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Fcryptoskillz.com%2Fblog%2Fworking-with-fullnodes-part-7-cyphernode-iv.html&amp;via=crypto_skillz&amp;text=Working%20With%20Fullnodes%20Part%207%20Cyphernode%20IV" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://cryptoskillz.com/blog/working-with-fullnodes-part-6-cyphernode-iii.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Working With Fullnodes Part 6 Cyphernode III</a></div></div></nav><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://cryptoskillz.com/blog/working-with-fullnodes-part-7-cyphernode-iv.html';
               		this.page.identifier = '23';
                       this.page.title = ' Working With Fullnodes Part 7 Cyphernode IV';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://cryptoskillz-1.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__social"><a href="crypto_skillz" aria-label="Twitter"><svg><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#twitter"/></svg></a></div><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener noreferrer">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'overlay',
        animationSpeed: 300,
        submenuWidth: 240,
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://cryptoskillz.com/blog/assets/js/scripts.min.js?v=f56b13ba141d95ea2a0b7aab75ca9528"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-111636971-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111636971-1');</script></body></html>