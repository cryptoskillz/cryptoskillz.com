<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Part 1: Using 3rd Party providers - cryptoskillz</title><meta name="description" content="blockchain,bitcoin,node js, fullnode"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://cryptoskillz.com/blog/part-1-using-3rd-party-providers.html"><link rel="amphtml" href="https://cryptoskillz.com/blog/amp/part-1-using-3rd-party-providers.html"><link rel="alternate" type="application/atom+xml" href="https://cryptoskillz.com/blog/feed.xml"><link rel="alternate" type="application/json" href="https://cryptoskillz.com/blog/feed.json"><meta property="og:title" content="Part 1: Using 3rd Party providers"><meta property="og:image" content="https://cryptoskillz.com/blog/media/website/logo.png"><meta property="og:site_name" content="cryptoskillz"><meta property="og:description" content="blockchain,bitcoin,node js, fullnode"><meta property="og:url" content="https://cryptoskillz.com/blog/part-1-using-3rd-party-providers.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://cryptoskillz.com/blog/assets/css/style.css?v=cdb7c8dfd06b8f0c89bc0574a7e7c931"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://cryptoskillz.com/blog/part-1-using-3rd-party-providers.html"},"headline":"Part 1: Using 3rd Party providers","datePublished":"2019-09-07T03:01","dateModified":"2019-09-09T00:35","image":{"@type":"ImageObject","url":"https://cryptoskillz.com/blog/media/website/logo.png","height":178,"width":685},"description":"<div id=\"ea43\" class=\"jl jm bf av jn b jo jp jq jr js jt ju\">\n<h2 class=\"jn b jo jv bf\"><figure class=\"post__image\"><img  src=\"https://cryptoskillz.com/blog/media/posts/2/1_iHh_BRR4Zc-RPTc1RraJyQ.jpeg\" sizes=\"(max-width: 48em) 100vw, 768px\" srcset=\"https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xs.jpeg 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-sm.jpeg 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-md.jpeg 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-lg.jpeg 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xl.jpeg 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-2xl.jpeg 1600w\"  alt=\"\" width=\"639\" height=\"473\"></figure></h2>\n</div>\n<div class=\"jw\">\n<div class=\"ag af\">\n<div> </div>\n<div>","author":{"@type":"Person","name":"cryptoskillz"},"publisher":{"@type":"Organization","name":"cryptoskillz","logo":{"@type":"ImageObject","url":"https://cryptoskillz.com/blog/media/website/logo.png","height":178,"width":685}}}</script><script src="https://cryptoskillz.com/blog/assets/js/ls.parent-fit.min.js?v=1c78585e2a70398fe95085061942fd37"></script><script async src="https://cryptoskillz.com/blog/assets/js/lazysizes.min.js?v=149ff45fc6c2f13e892e438a58abb77f"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-4710117865976591",
    enable_page_level_ads: true
  });</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://cryptoskillz.com/blog/"><img src="https://cryptoskillz.com/blog/media/website/logo.png" alt="cryptoskillz"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://cryptoskillz.com/index.html" target="_self">ECS</a></li><li><a href="https://cryptoskillz.com/blox.html" target="_self">BLOX</a></li><li><a href="https://cryptoskillz.com/about.html" target="_self">ABOUT</a></li><li class="has-submenu"><a href="https://cryptoskillz.com/blog/ecs/" target="_self" aria-haspopup="true">BLOG</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://cryptoskillz.com/blog/ecs/" target="_self">ECS</a></li><li><a href="https://cryptoskillz.com/blog/fullnode/" target="_self">FULLNODE</a></li><li><a href="https://cryptoskillz.com/blog/cyphernode/" target="_self">CYPHERNODE</a></li></ul></li></ul></nav></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-09-07T03:01">September 7, 2019</time></div><h1>Part 1: Using 3rd Party providers</h1><div class="post__meta post__meta--author"><a href="https://cryptoskillz.com/blog/authors/cryptoskillz/" class="feed__author invert">cryptoskillz</a></div></div></header></div><div class="wrapper post__entry"><div id="ea43" class="jl jm bf av jn b jo jp jq jr js jt ju"><h2 class="jn b jo jv bf"><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_iHh_BRR4Zc-RPTc1RraJyQ.jpeg" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xs.jpeg 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-sm.jpeg 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-md.jpeg 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-lg.jpeg 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-xl.jpeg 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_iHh_BRR4Zc-RPTc1RraJyQ-2xl.jpeg 1600w" alt="" data-aspectratio="1.350951" width="639" height="473"></figure></h2></div><div class="jw"><div class="ag af"><div> </div><div><h1 id="b76a" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Introduction</h1><p id="b675" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">I decided I would switch to crypto for being paid for all of my future endeavours. After a few weeks of research, I found that there are many tutorials that show you how to do just about everything with Bitcoin. What I could not find was a tutorial that explained how to do one of it’s most simple use cases and that was put a Bitcoin address on a webpage and accept payment.</p><p id="946e" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">You can go the hosted solution and this is what I did with the first experiment I went with the rather excellent “<a href="https://globee.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Globlee</strong></a><strong class="ll mg">”.<br>*cryptoskillz from the future we are at a state in the project that we no longer require “</strong><a href="https://www.shopify.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Shopify</strong></a><strong class="ll mg">”/</strong><a href="https://globee.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Globlee</strong></a><strong class="ll mg"> so it has been shut down, the screenshot below shows what it looks like.</strong></p><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_7L2zVI88OJjct_TFmUEvyw.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_7L2zVI88OJjct_TFmUEvyw-2xl.png 1600w" alt="" data-aspectratio="2.062160" width="2654" height="1287"></figure><p id="37a4" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">However, this is <a class="cb bx mc md me mf" target="_blank" href="https://medium.com/@jimmysong/why-bitcoin-is-different-e17b813fd947" rel="noopener noreferrer">Bitcoin we want to be the bank</a>, decentralise everything etc. This obviously leads me to dive deeper into the murky water of Bitcoin what are PUB keys WIF’s. How do I create them why does the testnet mempool take forever to clear, what the hell is a mempool? These and many other questions sprung up and the answers were not readily forthcoming, it is fair to say the Bitcoin community expects a certain level of knowledge before you can play in their waters.</p><p id="7cb8" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">As I was solving these issues for myself I thought I may as well document the process and this is what this tutorial is.</p><p id="8d76" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">It has been broken down into many parts and each tutorial has it’s own matching branch in Github this way you can literally track the progress, changes made etc to the code base as it develops. The latest version of the code is always in master if you want to ignore these tutorials and jump right in go ahead.</p><p id="554b" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">The overreaching goal of this tutorial is to have:</p><ol><li id="addc" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw mm mn mo" data-selectable-paragraph="">A full node (with lighting running atop of it)</li><li id="a2ab" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A single line of code JS (that is agnostic) that is used to give e-commerce functionality to any website</li><li id="4dff" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A REST API for processing all Bitcoin-related tasks (generateaddress, estimatefee etc)</li><li id="010f" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">An admin server for processing order</li><li id="a32e" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">A series of web components to give WWW sites e-commerce layout (checkout, pay button, product gallery etc)</li></ol><p id="a93c" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">More than just the above it is meant to serve as a teaching aid as every step successes, failures and everything in-between is documented both in this tutorial and in the Github.</p><h1 id="113f" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Overreaching Goal</h1><p id="ca45" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">The purpose of this tutorial is to do the following</p><p id="ff77" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">1 Generate a unique address for each payment request on a webpage<br>2 Monitor the blockchain for payment <br>3 Inform the buyer when the payment is successful<br>4 Inform the seller when the payment is successful</p><p id="fdcd" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">That is it, how hard can that be? Let’s begin shall we</p><h1 id="dd57" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Technology choices</h1><p id="a905" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">I will be using a microservice architecture(ish) and will be using Node.js (for servers / REST API’s etc) and static HTML for everything else (interacting with the REST API for content delivery) and some flavour of SQL (most likely <a href="https://www.sqlite.org/about.html" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">SQLLite</strong></a> to begin with)</p><p id="9d09" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">For our first foray into the world of accepting Bitcoins, I thought it would be wise to look at the various API companies out there (and there are a lot) and see how much of the heavy lifting can be removed if you are happy to rely on a third party. Note this is probably the most simple way (outside of fully hosted) way to process a Bitcoin payment and as a result will be of the most useful to most people.</p><p id="af2f" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">I also discounted any provider who converted your Bitcoin back to dollars, pounds euros, in fact, any FIAT currency as soon as the item was sold as this is not what I am looking to do at all.</p><p id="bff5" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">There are many Bitcoin as service companies out there they range from expensive and bad to cheap and good (and everything in between) the one I chose was <a href="https://block.io/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Block.io</strong></a> I found it to have the best API. If you do not like Block.io the concepts are simple enough to be interchangeable.</p><p id="8ac7" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Go ahead sign up for a Blox account and click the skip button in the account page as the free is good enough for us for now.</p><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_JCuWVZXAa23_M1L1Uil_bw.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_JCuWVZXAa23_M1L1Uil_bw-2xl.png 1600w" alt="" data-aspectratio="1.802092" width="2240" height="1243"></figure><p id="19a3" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Next, we have to set your secret pin. Do so and keep it secret.</p></div><div><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_ZO-9zptaX9bCLivOglpI8A.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-2xl.png 1600w" alt="" data-aspectratio="1.733142" width="1208" height="697"></figure></div><div> </div><div>After this Blox will get you a <a href="https://en.bitcoin.it/wiki/Seed_phrase" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">mnemonic</a> make a note of this and click on the “I have saved this information” box and click done.</div><div> </div><div><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_ZO-9zptaX9bCLivOglpI8A.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZO-9zptaX9bCLivOglpI8A-2xl.png 1600w" alt="" data-aspectratio="1.733142" width="1208" height="697"></figure></div><div> </div><div><p id="9ee8" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Lastly, click on the drop-down and click “Bitcoin (Testnet”) and we are ready to go.</p><p id="e5db" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">*Note the “show API keys” link has your API keys that should be obvious but these are required to interact with the Block API.</p><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_ZsnH6hueK2oJitI1zn1A9g.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_ZsnH6hueK2oJitI1zn1A9g-2xl.png 1600w" alt="" data-aspectratio="9.565022" width="2133" height="223"></figure><h2 id="c00c" class="ng kx bf av au el nh ni nj nk nl nm nn no np nq nr" data-selectable-paragraph="">The code</h2><p id="37da" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">Now we are up and running we have a wallet and access to a Testnet, go us. Now let’s sling some code and interact with it. If you read their <a href="https://block.io/docs/basic" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer">docs</a> you will see that are fairly extensive but don’t worry we are only going to use 2 of the commands at this point in time.</p><p id="a369" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">The code below is using the <a href="https://www.npmjs.com/package/block_io" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">block_io</strong></a> and uses a simple <a href="https://nodejs.org/en/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">Node.js</strong></a><strong class="ll mg"> </strong><a href="https://expressjs.com/" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">express</strong></a>application. The source code can be found <a href="https://github.com/cryptoskillz/block_ioTurotial" class="cb bx mc md me mf" target="_blank" rel="noopener noreferrer"><strong class="ll mg">here</strong></a>.</p><p id="4fae" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">*Note I have left my API keys in here, it is intentional just so you can see how they are meant to be used. I do not use the Block.io account for anything so there is no way you can compromise anything.</p><pre class="kg kh ki kj kk dv gg df"><span id="e933" class="ng kx bf av ns b dz nt nu l nv" data-selectable-paragraph="">//load express<br>const express = require('express');<br>//load body parser<br>const bodyParser = require('body-parser');<br>//load block io<br>var BlockIo = require('block_io');<br>//set the version of the API to 2<br>var version = 2; // API version<br>//init it<br>const app = express();</span><span id="e564" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//this function just creates a random label so we can generate the address.<br>function makeLabel() {<br>  var text = "";<br>  var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";<br>  for (var i = 0; i &lt; 5; i++)<br>    text += possible.charAt(Math.floor(Math.random() * possible.length));<br>  return text;<br>}</span><span id="07aa" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//init the block.io server <br>var block_io = new BlockIo('9ccb-fad0-7811-4dfb', 'TFcce3dNxcfk7E3D', version);</span><span id="3e3e" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">//get a random label<br>var label = makeLabel();<br>console.log('Generating new address')<br>/*<br>create a new address using a label.  You do not have to use a label but it just makes it easier to work with later.<br>Later on we wil store this address in a databse for further processing.<br>*/<br>block_io.get_new_address({'label': label}, console.log);<br>/*<br>Set a timer to check for a payment.  Using the label we created allows us to check faster but you could move this to <br>a backend server function and have it check for balances etc<br>*/<br>setInterval(function()<br>{<br> console.log('Checking for payment');<br> block_io.get_address_balance({'label': label}, console.log);<br>},10000);</span><span id="73fa" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">app.use(bodyParser.urlencoded({ extend: false }));  <br>app.use(bodyParser.json());</span><span id="7c8d" class="ng kx bf av ns b dz nw nx ny nz oa nu l nv" data-selectable-paragraph="">app.listen(3000, () =&gt; {<br>});</span></pre><p id="59fa" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">Let us go ahead and explain the code below:</p><ol><li id="9a9e" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw mm mn mo" data-selectable-paragraph="">We call the <strong class="ll mg">makeLabel</strong> function to generate a unique label.</li><li id="c8d2" class="lj lk bf av ll b lm mp lo mq lq mr ls ms lu mt lw mm mn mo" data-selectable-paragraph="">Then we generate a new address via the <strong class="ll mg">get_new_address function. *</strong>Note I use the label function just so it is easier to spot in the wallet. This address will now show up in your block.io wallet.</li></ol><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_HjTienzdr2kGlRmx293EFQ.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_HjTienzdr2kGlRmx293EFQ-2xl.png 1600w" alt="" data-aspectratio="2.077128" width="2343" height="1128"></figure><p id="563d" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">3. We use the <strong class="ll mg">setInterval</strong> function to check for the payment via its label (<strong class="ll mg">get_address_balance</strong>) every 10 seconds</p><p id="4985" class="lj lk bf av ll b lm lx lo ly lq lz ls ma lu mb lw" data-selectable-paragraph="">That’s it, super simple once you have downloaded the code simply change the API keys to your own open a terminal and type <strong class="ll mg">node server.js </strong>and<strong class="ll mg"> </strong>you will see the following output</p><figure class="post__image"><img class="lazyload" data-src="https://cryptoskillz.com/blog/media/posts/2/1_KT325oU_qhTm3KqCTDdVMQ.png" data-sizes="auto" data-srcset="https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-xs.png 300w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-sm.png 480w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-md.png 768w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-lg.png 1024w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-xl.png 1360w ,https://cryptoskillz.com/blog/media/posts/2/responsive/1_KT325oU_qhTm3KqCTDdVMQ-2xl.png 1600w" alt="" data-aspectratio="5.789366" width="2831" height="489"></figure><h1 class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph=""> </h1><h1 id="6ebc" class="kw kx bf av au el ky kz la lb lc ld le lf lg lh li" data-selectable-paragraph="">Conclusion</h1><p id="ff2a" class="lj lk bf av ll b lm ln lo lp lq lr ls lt lu lv lw" data-selectable-paragraph="">We have set up an account with a Bitcoin API service and wrote the code to generate a new address and then check if any Bitcoin has been sent to it over the Testnet. Yay, go us. In <a class="cb bx mc md me mf" target="_blank" href="https://medium.com/bitcoin-e-commerce-development/using-bitcoin-to-accept-payments-part-2-421fe7803f34" rel="noopener noreferrer"><strong class="ll mg">part 2</strong></a> we will set up a bitcoin core wallet, get some test coins and send them to our new address.</p></div></div></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on September 9, 2019</p><ul class="post__tag"><li><a href="https://cryptoskillz.com/blog/ecs/">ecs</a></li></ul><div class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Fcryptoskillz.com%2Fblog%2Fpart-1-using-3rd-party-providers.html&amp;via=crypto_skillz&amp;text=Part%201%3A%20Using%203rd%20Party%20providers" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://cryptoskillz.com/blog/test.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Part 0: Table of contents &amp; prereqs</a></div><div class="post__nav-next"><a href="https://cryptoskillz.com/blog/part-2-generate-a-btc-address.html" class="invert post__nav-link" rel="next"><span>Next</span> Part 2: Generate a BTC address </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2019-09-08T18:03" class="feed__date">September 8, 2019</time></div><h3 class="h1"><a href="https://cryptoskillz.com/blog/part-6-create-an-admin-and-hosting.html" class="invert">Part 6: Create an Admin and hosting</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-09-08T04:58" class="feed__date">September 8, 2019</time></div><h3 class="h1"><a href="https://cryptoskillz.com/blog/part-5-www-and-modularisation.html" class="invert">Part 5: WWW and modularisation</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-09-08T04:57" class="feed__date">September 8, 2019</time></div><h3 class="h1"><a href="https://cryptoskillz.com/blog/part-4-move-payment-to-cold-storage.html" class="invert">Part 4: Move payment to cold storage</a></h3></article></div></div><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://cryptoskillz.com/blog/part-1-using-3rd-party-providers.html';
               		this.page.identifier = '2';
                       this.page.title = ' Part 1: Using 3rd Party providers';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://cryptoskillz-1.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__social"><a href="crypto_skillz" aria-label="Twitter"><svg><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#twitter"/></svg></a></div><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener noreferrer">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://cryptoskillz.com/blog/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://cryptoskillz.com/blog/assets/js/scripts.min.js?v=f56b13ba141d95ea2a0b7aab75ca9528"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-111636971-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111636971-1');</script></body></html>